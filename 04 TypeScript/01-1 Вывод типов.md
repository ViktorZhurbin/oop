**Вывод типов** (англ. type inference) — возможность компилятора самому логически вывести тип значения у выражения.

Когда тип данных в явном виде не указан, в TypeScript используется автоматический вывод типа.
```js
let x = 3; // x будет иметь тип number.
```

Вывод типа происходит при:
- инициализации переменных
- установке значений по умолчанию
- определении типов возвращаемых функциями значений

В большинстве случаев вывод типа является очевидным и простым. Однако есть некоторые нюансы.

### Наиболее подходящий тип

Когда вывод типа осуществляется на основании нескольких выражений, типы этих выражений будут использоваться для вывода “наиболее подходящего типа” данных.

Рассмотрим пример:
```js
let x = [0, 1, null];
```

Алгоритм вывода наиболее подходящего типа для `x` учитывает тип каждого элемента в массиве и выбирает тип, совместимый со всеми элементами (`(number | null)[]`).

Поскольку наилучший общий тип необходимо выбрать из типов предоставленных элементов, возможна ситуация, когда у типов общая структура, но нет ни одного супер-типа, общего для всех.

`let zoo = [new Rhino(), new Elephant(), new Snake()];`

В идеале наилучшим общим типом был бы тип `Animal[]`, но элемента с таким типом нет в массиве. В этом случае, мы явно указываем тип:

`let zoo: Animal[] = [new Rhino(), new Elephant(), new Snake()];`

Когда алгоритм не находит наилучший общий тип, используется union array type (`(Rhino | Elephant | Snake)[]`).


### Контекстуальная типизация

В некоторых случаях вывод типов в TS работает и в наоборот - когда тип выражения определяется его положением, используется контекстуальная типизация.

```js
window.onmousedown = function(mouseEvent) {
    console.log(mouseEvent.button);  //<- Error
};
```

TS использует тип `window.onmousedown`, чтобы вывести тип функции после знака равенства. При этом был выведен тип параметра `mouseEvent`. Если бы функция не находилась в позиции контекстуальной типизации, у `mouseEvent` был бы тип `any`, и ошибка бы не возникла.

При явном указании типа контекстуальный тип игнорируется.
```js
window.onmousedown = function(mouseEvent: any) {
    console.log(mouseEvent.button);  //<- Now, no error is given
};
```

Contextual typing applies in many cases. Common cases include arguments to function calls, right hand sides of assignments, type assertions, members of object and array literals, and return statements. The contextual type also acts as a candidate type in best common type. For example:
```js
function createZoo(): Animal[] {
    return [new Rhino(), new Elephant(), new Snake()];
}
```

